var main={element:document.querySelector(".current"),nextElement:document.querySelector(".next"),counterElement:document.querySelector(".counter"),time:{zones:{"-12:00":{"United States Minor Outlying Islands":["Baker Island","Howland Island"]},"-11:00":{"United States":["American Samoa"],"New Zealand":["Niue"]},"-10:00":{France:["French Polynesia"],"New Zealand":["Cook Islands"],"United States":["Alaska","Aleutian Islands west","Hawaii"]},"-09:30":{France:["French Polynesia"]},"-09:00":{France:["French Polynesia"],"United States":["Alaska"]},"-08:00":{Canada:["Vancouver"],France:["Clipperton Island"],Mexico:["Baja California"],"United Kingdom":["Pitcairn Islands"],"United States":["California","Vancouver","Nevada","Oregon","Washington","Idaho"]},"-07:00":{Canada:["Alberta","British Columbia","Northwest Territories","Nunavut","Saskatchewan","Lloydminster"],Mexico:["Baja California Sur","Chihuahua","Nayarit","Sinaloa","Sonora states"],"United States":["Arizona","Colorado","Idaho","Kansas","Montana","Nebraska","Nevada","New Mexico","North Dakota","Oregon","South Dakota","Texas","Utah","Wyoming"]},"-06:00":{Canada:["Manitoba","Nunavut","Ontario","Saskatchewan"],Chile:["Easter Island"],"United States":["Alabama","Arkansas","Florida","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Michigan","Minnesota","Mississippi","Missouri","Nebraska","North Dakota","Oklahoma","South Dakota","Tennessee","Texas","Wisconsin"]},"-05:00":{Brazil:["Acre","Amazonas"],Canada:["Nunavut","Ontario","Quebec"],Mexico:["Quintana Roo"],"United Kingdom":["Cayman Islands"],"United States":["Delaware","District of Columbia","Florida","Georgia","Indiana","Kentucky","Maryland","Michigan","New England","New Jersey","New York","North Carolina","Ohio","Pennsylvania","South Carolina","Tennessee","Virginia","Navassa Island"]},"-04:00":{Brazil:["Amazonas","Canada","New Brunswick","Newfoundland and Labrador","Nova Scotia","Prince Edward Island","Quebec"],Chile:["Mainland Chile"],Denmark:["Greenland"],France:["Guadeloupe","Martinique","Saint Barthélemy","Saint-Martin"],Netherlands:["Aruba","Caribbean Netherlands","Curaçao","Sint Maarten"],"United Kingdom":["Anguilla","Bermuda","British Virgin Islands","Montserrat","Turks and Caicos Islands"],"United States":["Puerto Rico","U.S. Virgin Islands"]},"-03:30":{Canada:["Newfoundland and Labrador"]},"-03:00":{Argentina:["Buenos Aires"],Chile:["Magallanes Region"],Denmark:["Greenland"],France:["French Guiana","Saint-Pierre and Miquelon"],"United Kingdom":["Falkland Islands"]},"-02:00":{Brazil:["Fernando de Noronha"],"United Kingdom":["South Georgia and the South Sandwich Islands"]},"-01:00":{Denmark:["Greenland"],Portugal:["Azores islands"]},"+00:00":{Denmark:["Faroe Islands","Greenland"],"Republic of Ireland":["Dublin"],Spain:["Canary Islands"],"United Kingdom":["London"]},"+01:00":{Austria:["Vienna"],France:["Paris","Bordeaux","Toulouse","Marseille","Lyon","Brest","Montpellier","Strasbourg","Lille","Nantes","La Brède"],Germany:["Berlin"],Italy:["Rome"],Spain:["Madrid","Barcelona"],Tunisia:["Tunis"],"United Kingdom":["London"]},"+02:00":{Egypt:["Cairo"],Greece:["Athens"],Israel:["Jerusalem"],Romania:["Bucharest"],"United Kingdom":["Akrotiri and Dhekelia"]},"+03:00":{France:["French Southern and Antarctic Lands","Mayotte"],Iraq:["Baghdad"],Qatar:["Doha"],Russia:["Moscow"]},"+03:30":{Iran:["Tehran"]},"+04:00":{France:["French Southern and Antarctic Lands","Réunion"],Russia:["Volga Federal District"]},"+04:30":{Afghanistan:["Kabul"]},"+05:00":{Australia:["Heard Island and McDonald Islands"],France:["French Southern and Antarctic Lands"],Russia:["Ural Federal District","Volga Federal District"]},"+05:30":{India:["Delhi"],"Sri Lanka":["Colombo"]},"+05:45":{Nepal:["Kathmandu"]},"+06:00":{Russia:["Siberian Federal District"],"United Kingdom":["British Indian Ocean Territory"]},"+06:30":{Australia:["Cocos (Keeling) Islands"]},"+07:00":{Australia:["Christmas Island"],Indonesia:["Jakarta"],Mongolia:["Western part"],Russia:["Siberian Federal District"],Thailand:["Bangkok"]},"+08:00":{Australia:["Sydney"],China:["Beijing","Hong Kong"],Indonesia:["Bangkok"],Mongolia:["Eastern part"],Russia:["Siberian Federal District"],Singapore:["Singapore"]},"+08:30":{"North Korea":["Pyongyang"]},"+08:45":{Australia:["Western Australia"]},"+09:00":{Indonesia:["Maluku Islands, Papua and West Papua"],Japan:["Tokyo"],"South Korea":["Seoul"],Russia:["Far Eastern Federal District"]},"+09:30":{Australia:["Northern Territory","South Australia","New South Wales"]},"+10:00":{Australia:["Sydney"],Russia:["Far Eastern Federal District"],"United States":["Guam","Northern Mariana Islands"]},"+10:30":{Australia:["New South Wales"]},"+11:00":{Australia:["Norfolk Island"],France:["New Caledonia"],"Papua New Guinea":["Autonomous Region of Bougainville"],Russia:["Far Eastern Federal District"]},"+12:00":{France:["Wallis and Futuna"],Russia:["Far Eastern Federal District"],"United States":["Wake Island"]}},utc:function(a){var e=new Date,n=e.getTime()-6e4*e.getTimezoneOffset();return a=a.split(":"),hour=parseInt(a[0]),minute=(0==hour?1:hour/Math.abs(hour))*parseInt(a[1]),new Date(n+6e4*(60*(hour-2)+minute))},is420:function(a){return 4==a.getHours()&&20==a.getMinutes()},get offset(){for(var a in this.zones)if(this.is420(this.utc(a)))return a;return null},get next(){var a,e,n,t={offset:null,hours:0,minutes:0};for(var i in this.zones)a=this.utc(i),e=a.getHours(),n=a.getMinutes(),(e<=4||e<=4&&n<20)&&(t.hours<e||t.hours<=e&&t.minutes<n)&&(t={offset:i,hours:e,minutes:n});return t.offset},delta:function(a){var e=this.utc(a),n={hours:Math.abs(4-e.getHours()),minutes:Math.abs(20-e.getMinutes()),seconds:Math.abs(60-e.getSeconds())};return n.seconds<10&&(n.seconds="0"+n.seconds),n.minutes<10&&(n.minutes="0"+n.minutes),n.hours<10&&(n.hours="0"+n.hours),n.hours+"h "+n.minutes+"min "+n.seconds+"s"},place:function(a){var e=this.zones[a],n=Object.keys(e),t=n[Math.floor(Math.random()*n.length)],i=e[t],r=i[Math.floor(Math.random()*i.length)];return r+", "+t}},current:null,audio:{element:document.querySelector("audio"),interval:null,get volume(){return this.element.volume},set volume(a){this.element.volume=a>1?1:a<0?0:a},set currentTime(a){this.element.currentTime=a},get paused(){return this.element.paused},get played(){return!this.paused},play:function(){clearInterval(this.interval),this.volume=1,this.currentTime=0,this.paused&&this.element.play()},pause:function(){if(this.played){var a=this;this.interval=setInterval(function(){a.volume-=.01,a.volume<=0&&(clearInterval(a.interval),a.element.pause())},100)}}},update:function(a){var e=this.time.offset;e!=this.current||a?(this.current=e,e?(this.element.innerHTML=this.time.place(e),this.is420=!0):(this.element.innerHTML="No Place :(",this.nextElement.innerHTML="Next place may be: "+this.time.place(this.time.next),this.updateNext(),this.is420=!1)):null===this.current&&this.updateNext()},updateNext:function(){this.counterElement.innerHTML="(in "+this.time.delta(this.time.next)+")"},set is420(a){a?(document.body.setAttribute("data-420","true"),this.audio.play()):(document.body.removeAttribute("data-420"),this.audio.pause())},analytics:{init:function(){!function(a,e,n,t,i,r,s){a.GoogleAnalyticsObject=i,a[i]=a[i]||function(){(a[i].q=a[i].q||[]).push(arguments)},a[i].l=1*new Date,r=e.createElement(n),s=e.getElementsByTagName(n)[0],r.async=1,r.src=t,s.parentNode.insertBefore(r,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-88797131-3","auto"),ga("send","pageview")}},init:function(){var a=this;this.update(!0),this.analytics.init(),setInterval(function(){a.update()},1e3)}};main.init();